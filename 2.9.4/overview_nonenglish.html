<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>wxWidgets: wxWidgets: Writing Non-English Applications</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery-1.3.2.min.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr>
  
  <td id="projectlogo"><a href="http://www.wxwidgets.org/" target="_new"><img alt="Logo" src="logo.png"/></a></td>
  
  <td style="padding: 0.5em; text-align: right;">
   <span id="projectnumber">Version: 2.9.4</span>
  </td>
  
 </tr>
 </tbody>
</table>
</div><!-- Generated by Doxygen 1.7.4 -->


<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>メインページ</span></a></li>
      <li class="current"><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>カテゴリ</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li><a href="dirs.html"><span>ディレクトリ</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">ドキュメント</a>      </li>
      <li class="navelem"><a class="el" href="page_topics.html">トピックスの概要</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Writing Non-English Applications  </div>  </div>
</div>
<div class="contents">
<div class="textblock"><ul>
<li><a class="el" href="overview_nonenglish.html#overview_nonenglish_locales">Locales</a> </li>
<li><a class="el" href="overview_nonenglish.html#overview_nonenglish_strings">Non-English Strings or 8-bit Characters in Source</a> </li>
<li><a class="el" href="overview_nonenglish.html#overview_nonenglish_fontmapping">Font Mapping</a> </li>
<li><a class="el" href="overview_nonenglish.html#overview_nonenglish_converting">Converting Data</a> </li>
<li><a class="el" href="overview_nonenglish.html#overview_nonenglish_help">Help Files</a></li>
</ul>
<hr/>
<p>This article describes how to write applications that communicate with the user in a language other than English. Unfortunately many languages use different charsets under Unix and Windows (and other platforms, to make the situation even more complicated). These charsets usually differ in so many characters that it is impossible to use the same texts under all platforms.</p>
<p>The wxWidgets library provides a mechanism that helps you avoid distributing many identical, only differently encoded, packages with your application (e.g. help files and menu items in iso8859-13 and windows-1257). Thanks to this mechanism you can, for example, distribute only iso8859-13 data and it will be handled transparently under all systems.</p>
<p>Please read the <a class="el" href="overview_i18n.html">Internationalization</a> which describes the locales concept.</p>
<p>In the following text, wherever <em>iso8859-2</em> and <em>windows-1250</em> are used, any encodings are meant and any encodings may be substituted there.</p>
<h2><a class="anchor" id="overview_nonenglish_locales"></a>

Locales</h2>
<p>The best way to ensure correctly displayed texts in a GUI across platforms is to use locales. Write your in-code messages in English or without diacritics and put real messages into the message catalog (see <a class="el" href="overview_i18n.html">Internationalization</a>).</p>
<p>A standard .po file begins with a header like this:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"># SOME DESCRIPTIVE TITLE.</span>
<span class="preprocessor"></span><span class="preprocessor"># Copyright (C) YEAR Free Software Foundation, Inc.</span>
<span class="preprocessor"></span><span class="preprocessor"># FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span>msgid <span class="stringliteral">""</span>
msgstr <span class="stringliteral">""</span>
<span class="stringliteral">"Project-Id-Version: PACKAGE VERSION\n"</span>
<span class="stringliteral">"POT-Creation-Date: 1999-02-19 16:03+0100\n"</span>
<span class="stringliteral">"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"</span>
<span class="stringliteral">"Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n"</span>
<span class="stringliteral">"Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"</span>
<span class="stringliteral">"MIME-Version: 1.0\n"</span>
<span class="stringliteral">"Content-Type: text/plain; charset=CHARSET\n"</span>
<span class="stringliteral">"Content-Transfer-Encoding: ENCODING\n"</span>
</pre></div><p>Note this particular line:</p>
<div class="fragment"><pre class="fragment"><span class="stringliteral">"Content-Type: text/plain; charset=CHARSET\n"</span>
</pre></div><p>It specifies the charset used by the catalog. All strings in the catalog are encoded using this charset.</p>
<p>You have to fill in proper charset information. Your .po file may look like this after doing so:</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"># SOME DESCRIPTIVE TITLE.</span>
<span class="preprocessor"></span><span class="preprocessor"># Copyright (C) YEAR Free Software Foundation, Inc.</span>
<span class="preprocessor"></span><span class="preprocessor"># FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.</span>
<span class="preprocessor"></span><span class="preprocessor">#</span>
<span class="preprocessor"></span>msgid <span class="stringliteral">""</span>
msgstr <span class="stringliteral">""</span>
<span class="stringliteral">"Project-Id-Version: PACKAGE VERSION\n"</span>
<span class="stringliteral">"POT-Creation-Date: 1999-02-19 16:03+0100\n"</span>
<span class="stringliteral">"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"</span>
<span class="stringliteral">"Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n"</span>
<span class="stringliteral">"Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"</span>
<span class="stringliteral">"MIME-Version: 1.0\n"</span>
<span class="stringliteral">"Content-Type: text/plain; charset=iso8859-2\n"</span>
<span class="stringliteral">"Content-Transfer-Encoding: 8bit\n"</span>
</pre></div><p>(Make sure that the header is <b>not</b> marked as <em>fuzzy</em>.)</p>
<p>wxWidgets is able to use this catalog under any supported platform (although iso8859-2 is a Unix encoding and is normally not understood by Windows).</p>
<p>How is this done? When you tell the <a class="el" href="classwx_locale.html" title="wxLocale クラスは C 言語におけるロケールの概念を一般化したものであり、言語に依存するすべての設定をカプセル化します。">wxLocale</a> class to load a message catalog that contains a correct header, it checks the charset. The catalog is then converted to the charset used (see <a class="el" href="classwx_locale.html#aa807dd0db36c3bd6556c2a37014239d6" title="Tries to detect the user's default font encoding.">wxLocale::GetSystemEncoding</a> and <a class="el" href="classwx_locale.html#a301032f2ecdf0be5321fab2281c71206" title="Tries to detect the name of the user's default font encoding.">wxLocale::GetSystemEncodingName</a>) by the user's operating system.</p>
<h2><a class="anchor" id="overview_nonenglish_strings"></a>

Non-English Strings or 8-bit Characters in Source</h2>
<p>By convention, you should only use characters without diacritics (i.e. 7-bit ASCII strings) for msgids in the source code and write them in English.</p>
<p>If you port software to wxWidgets, you may be confronted with legacy source code containing non-English string literals. Instead of translating the strings in the source code to English and putting the original strings into message catalog, you may configure wxWidgets to use non-English msgids and translate to English using message catalogs:</p>
<ul>
<li>If you use the program <code>xgettext</code> to extract the strings from the source code, specify the option <code>--from-code=&lt;source code charset&gt;</code>.  </li>
<li>Specify the source code language and charset as arguments to <a class="el" href="classwx_locale.html#a1e9eb6387646a94c65d1493b5be7641c" title="Calls wxTranslations::AddCatalog(const wxString&amp;).">wxLocale::AddCatalog</a>. 以下に例を示します: <div class="fragment"><pre class="fragment">    locale.AddCatalog(<a class="code" href="group__group__funcmacro__string.html#ga437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, 'x' or &quot;foo&quot;) to automatic...">wxT</a>(<span class="stringliteral">"myapp"</span>), <a class="code" href="language_8h.html#a7d1c74ce43b2fb7acf7a6fa438c0ee86a8fc3d592c6f1ac6c9bdfb3a006cec1dd">wxLANGUAGE_GERMAN</a>, <a class="code" href="group__group__funcmacro__string.html#ga437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, 'x' or &quot;foo&quot;) to automatic...">wxT</a>(<span class="stringliteral">"iso-8859-1"</span>));
</pre></div></li>
</ul>
<h2><a class="anchor" id="overview_nonenglish_fontmapping"></a>

Font Mapping</h2>
<p>You can use <a class="el" href="overview_mbconv.html">wxMBConv Overview</a> and <a class="el" href="classwx_font_mapper.html" title="wxFontMapper manages user-definable correspondence between logical font names and the fonts present o...">wxFontMapper</a> to display text:</p>
<div class="fragment"><pre class="fragment"><span class="keywordflow">if</span> (!<a class="code" href="classwx_font_mapper.html#a2bd9e7f8c2c6808c4508ed05e9f1cfe5" title="Get the current font mapper object.">wxFontMapper::Get</a>()-&gt;IsEncodingAvailable(enc, facename))
{
    <a class="code" href="interface_2wx_2font_8h.html#a09016a7497d1ec6defdf13fd6439acca" title="Font encodings.">wxFontEncoding</a> alternative;
    <span class="keywordflow">if</span> (<a class="code" href="classwx_font_mapper.html#a2bd9e7f8c2c6808c4508ed05e9f1cfe5" title="Get the current font mapper object.">wxFontMapper::Get</a>()-&gt;GetAltForEncoding(enc, &amp;alternative,
                                               facename, <span class="keyword">false</span>))
    {
        <a class="code" href="classwx_c_s_conv.html" title="This class converts between any character set supported by the system and Unicode.">wxCSConv</a> convFrom(<a class="code" href="classwx_font_mapper.html#a2bd9e7f8c2c6808c4508ed05e9f1cfe5" title="Get the current font mapper object.">wxFontMapper::Get</a>()-&gt;GetEncodingName(enc));
        <a class="code" href="classwx_c_s_conv.html" title="This class converts between any character set supported by the system and Unicode.">wxCSConv</a> convTo(<a class="code" href="classwx_font_mapper.html#a2bd9e7f8c2c6808c4508ed05e9f1cfe5" title="Get the current font mapper object.">wxFontMapper::Get</a>()-&gt;GetEncodingName(alternative));
        text = <a class="code" href="classwx_string.html" title="wxString クラスは wxWidgets 3.0 では完全に書き直されます。そして、この変更が新しいバージョンを wxWidgets 3.0 と呼ぶ主な理由です。">wxString</a>(text.<a class="code" href="classwx_string.html#adcfd12e6d0765b1d74bccc3d63d02e98" title="wxMBConv::cWC2MB 関数を使用して文字列をマルチバイト (C 形式) 表現方法に変換し、wxCharBuffer として返却します。">mb_str</a>(convFrom), convTo);
    }
    <span class="keywordflow">else</span>
        ...failure (or we may <span class="keywordflow">try</span> iso8859-1/7bit ASCII)...
}
...display text...
</pre></div><h2><a class="anchor" id="overview_nonenglish_converting"></a>

Converting Data</h2>
<p>You may want to store all program data (created documents etc.) in the same encoding, let's say <code>utf-8</code>. You can use <a class="el" href="classwx_c_s_conv.html" title="This class converts between any character set supported by the system and Unicode.">wxCSConv</a> to convert data to the encoding used by the system your application is running on (see <a class="el" href="classwx_locale.html#aa807dd0db36c3bd6556c2a37014239d6" title="Tries to detect the user's default font encoding.">wxLocale::GetSystemEncoding</a>).</p>
<h2><a class="anchor" id="overview_nonenglish_help"></a>

Help Files</h2>
<p>If you're using <a class="el" href="classwx_html_help_controller.html" title="This help controller provides an easy way of displaying HTML help in your application (see HTML Sampl...">wxHtmlHelpController</a> there is no problem at all. You only need to make sure that all the HTML files contain the META tag:</p>
<div class="fragment"><pre class="fragment">&lt;meta http-equiv=<span class="stringliteral">"Content-Type"</span> content=<span class="stringliteral">"text/html; charset=iso8859-2"</span>&gt;
</pre></div><p>Also, the hhp project file needs one additional line in the <code>OPTIONS</code> section:</p>
<div class="fragment"><pre class="fragment">Charset=iso8859-2
</pre></div><p>This additional entry tells the HTML help controller what encoding is used in contents and index tables.  </p>
</div></div><!-- window showing the filter options -->

<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div><!-- iframe showing the search results (closed by default) -->


<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/>
<address class="footer">
	<small>
		
		Page generated on Mon Jul 9 2012 15:04:15 by  <!--[Doxygen 1.7.6+] $generatedby -->
		<a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.7.4
	
	</small>
</address>


<script src="wxwidgets.js" type="text/javascript"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40693840-1', 'murank.github.io');
  ga('send', 'pageview');

</script>
</body>
</html>
