<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>wxWidgets: wxWidgets: wxThreadHelper Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery-1.3.2.min.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr>
  
  <td id="projectlogo"><a href="http://www.wxwidgets.org/" target="_new"><img alt="Logo" src="logo.png"/></a></td>
  
  <td style="padding: 0.5em; text-align: right;">
   <span id="projectnumber">Version: 2.9.4</span>
  </td>
  
 </tr>
 </tbody>
</table>
</div><!-- Generated by Doxygen 1.7.4 -->


<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>メインページ</span></a></li>
      <li><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>カテゴリ</span></a></li>
      <li class="current"><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li><a href="dirs.html"><span>ディレクトリ</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">wxThreadHelper Class Reference<div class="ingroups"><a class="el" href="group__group__class__threading.html">Threading</a></div></div>  </div>
</div>
<div class="contents"><!-- doxytag: class="wxThreadHelper" -->

<p><code>#include &lt;/home/zeitlin/src/wx/github/interface/wx/thread.h&gt;</code></p>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classwx_thread_helper.html" title="The wxThreadHelper class is a mix-in class that manages a single background thread, either detached or joinable (see wxThread for the differences).">wxThreadHelper</a> class is a mix-in class that manages a single background thread, either detached or joinable (see <a class="el" href="classwx_thread.html" title="A thread is basically a path of execution through a program.">wxThread</a> for the differences).  </p>
<p>By deriving from <a class="el" href="classwx_thread_helper.html" title="The wxThreadHelper class is a mix-in class that manages a single background thread, either detached or joinable (see wxThread for the differences).">wxThreadHelper</a>, a class can implement the thread code in its own <a class="el" href="classwx_thread_helper.html#a7f3e0f028fb1b295bc61064ad4d4bc1b" title="This is the entry point of the thread.">wxThreadHelper::Entry()</a> method and easily share data and synchronization objects between the main thread and the worker thread.</p>
<p>Doing this prevents the awkward passing of pointers that is needed when the original object in the main thread needs to synchronize with its worker thread in its own <a class="el" href="classwx_thread.html" title="A thread is basically a path of execution through a program.">wxThread</a> derived object.</p>
<p>For example, <a class="el" href="classwx_frame.html" title="フレームは (通常は) ユーザがサイズや位置を変更可能なウィンドウです。">wxFrame</a> may need to make some calculations in a background thread and then display the results of those calculations in the main window.</p>
<p>Ordinarily, a <a class="el" href="classwx_thread.html" title="A thread is basically a path of execution through a program.">wxThread</a> derived object would be created with the calculation code implemented in <a class="el" href="classwx_thread.html#af50fa7d3ac55002e367e79989b9cbc5d" title="This is the entry point of the thread.">wxThread::Entry</a>. To access the inputs to the calculation, the frame object would often need to pass a pointer to itself to the thread object. Similarly, the frame object would hold a pointer to the thread object.</p>
<p>Shared data and synchronization objects could be stored in either object though the object without the data would have to access the data through a pointer. However with <a class="el" href="classwx_thread_helper.html" title="The wxThreadHelper class is a mix-in class that manages a single background thread, either detached or joinable (see wxThread for the differences).">wxThreadHelper</a> the frame object and the thread object are treated as the same object. Shared data and synchronization variables are stored in the single object, eliminating a layer of indirection and the associated pointers.</p>
<p>例: </p>
<div class="fragment"><pre class="fragment">        <a class="code" href="group__group__funcmacro__events.html#ga767b12d37f7370bc5f6b3d62340f3ef8" title="カスタムイベント型を宣言します。">wxDECLARE_EVENT</a>(wxEVT_COMMAND_MYTHREAD_UPDATE, <a class="code" href="classwx_thread_event.html" title="This class adds some simple functionality to wxEvent to facilitate inter-thread communication.">wxThreadEvent</a>);

        <span class="keyword">class </span>MyFrame : <span class="keyword">public</span> <a class="code" href="classwx_frame.html" title="フレームは (通常は) ユーザがサイズや位置を変更可能なウィンドウです。">wxFrame</a>, <span class="keyword">public</span> <a class="code" href="classwx_thread_helper.html" title="The wxThreadHelper class is a mix-in class that manages a single background thread, either detached or joinable (see wxThread for the differences).">wxThreadHelper</a>
        {
        <span class="keyword">public</span>:
            MyFrame(...) { ... }
            ~MyFrame()
            {
                <span class="comment">// it's better to do any thread cleanup in the OnClose()</span>
                <span class="comment">// event handler, rather than in the destructor.</span>
                <span class="comment">// This is because the event loop for a top-level window is not</span>
                <span class="comment">// active anymore when its destructor is called and if the thread</span>
                <span class="comment">// sends events when ending, they won't be processed unless</span>
                <span class="comment">// you ended the thread from OnClose.</span>
                <span class="comment">// See @ref overview_windowdeletion for more info.</span>
            }

            ...
            <span class="keywordtype">void</span> DoStartALongTask();
            <span class="keywordtype">void</span> OnThreadUpdate(<a class="code" href="classwx_thread_event.html" title="This class adds some simple functionality to wxEvent to facilitate inter-thread communication.">wxThreadEvent</a>&amp; evt);
            <span class="keywordtype">void</span> OnClose(<a class="code" href="classwx_close_event.html" title="このイベントクラスはウィンドウとセッションの終了イベントに関する情報を含んでいます。">wxCloseEvent</a>&amp; evt);
            ...

        <span class="keyword">protected</span>:
            <span class="keyword">virtual</span> <a class="code" href="classwx_thread.html#ade9497fa072fe19481086e6486dcc028" title="The return type for the thread functions.">wxThread::ExitCode</a> <a class="code" href="classwx_thread_helper.html#a7f3e0f028fb1b295bc61064ad4d4bc1b" title="This is the entry point of the thread.">Entry</a>();

            <span class="comment">// the output data of the Entry() routine:</span>
            <span class="keywordtype">char</span> m_data[1024];
            <a class="code" href="classwx_critical_section.html" title="A critical section object is used for exactly the same purpose as a wxMutex.">wxCriticalSection</a> m_dataCS; <span class="comment">// protects field above</span>

            <a class="code" href="group__group__funcmacro__events.html#gab6eca03fad44ec10b75d3cb82e9219e3" title="静的イベントテーブルを宣言するために、クラス宣言の中でこのマクロを使用してください。">wxDECLARE_EVENT_TABLE</a>();
        };

        <a class="code" href="group__group__funcmacro__events.html#ga09ec1d095bee3085c1cb31459b46bc00" title="特定のイベントクラスに関連する新しいイベント型を定義します。">wxDEFINE_EVENT</a>(wxEVT_COMMAND_MYTHREAD_UPDATE, <a class="code" href="classwx_thread_event.html" title="This class adds some simple functionality to wxEvent to facilitate inter-thread communication.">wxThreadEvent</a>)
        <a class="code" href="group__group__funcmacro__events.html#ga736930efaab4d7e445e9e8e520c7b74d" title="静的イベントハンドラの列挙を開始するために、ソースファイル内でこのマクロを使用してください。">wxBEGIN_EVENT_TABLE</a>(MyFrame, <a class="code" href="classwx_frame.html" title="フレームは (通常は) ユーザがサイズや位置を変更可能なウィンドウです。">wxFrame</a>)
            EVT_COMMAND(wxID_ANY, wxEVT_COMMAND_MYTHREAD_UPDATE, MyFrame::OnThreadUpdate)
            EVT_CLOSE(MyFrame::OnClose)
        <a class="code" href="group__group__funcmacro__events.html#ga383fad2a46e1d6c220fbe03ecfbc9c17" title="静的イベントハンドラの列挙を終了するために、ソースファイル内でこのマクロを使用してください。">wxEND_EVENT_TABLE</a>()

        <span class="keywordtype">void</span> MyFrame::DoStartALongTask()
        {
            <span class="comment">// we want to start a long task, but we don't want our GUI to block</span>
            <span class="comment">// while it's executed, so we use a thread to do it.</span>
            <span class="keywordflow">if</span> (<a class="code" href="classwx_thread_helper.html#a3682b1b5a08741335aa8acc7feb0ece5" title="Creates a new thread of the given kind.">CreateThread</a>(<a class="code" href="interface_2wx_2thread_8h.html#a0dc9a167e8d084946512da99b37b5fd0ab5246cc8dc6eeb20bc69e4790e7b00a4" title="Joinable thread.">wxTHREAD_JOINABLE</a>) != <a class="code" href="interface_2wx_2thread_8h.html#a9e4ba0577f752fee0ba2133035f75ac2ad1525fe128b4989cb43a7e8112ac1b13" title="No error.">wxTHREAD_NO_ERROR</a>)
            {
                <a class="code" href="group__group__funcmacro__log.html#ga0dd3c633f990f794e76065c9a7af4c87" title="エラーメッセージ用の関数です。">wxLogError</a>(<span class="stringliteral">"Could not create the worker thread!"</span>);
                <span class="keywordflow">return</span>;
            }

            <span class="comment">// go!</span>
            <span class="keywordflow">if</span> (<a class="code" href="classwx_thread_helper.html#ac61fe16deda566773cdc7d4d38709370" title="This is a public function that returns the wxThread object associated with the thread.">GetThread</a>()-&gt;Run() != <a class="code" href="interface_2wx_2thread_8h.html#a9e4ba0577f752fee0ba2133035f75ac2ad1525fe128b4989cb43a7e8112ac1b13" title="No error.">wxTHREAD_NO_ERROR</a>)
            {
                <a class="code" href="group__group__funcmacro__log.html#ga0dd3c633f990f794e76065c9a7af4c87" title="エラーメッセージ用の関数です。">wxLogError</a>(<span class="stringliteral">"Could not run the worker thread!"</span>);
                <span class="keywordflow">return</span>;
            }
        }

        <a class="code" href="classwx_thread.html#ade9497fa072fe19481086e6486dcc028" title="The return type for the thread functions.">wxThread::ExitCode</a> <a class="code" href="classwx_thread_helper.html#a7f3e0f028fb1b295bc61064ad4d4bc1b" title="This is the entry point of the thread.">MyFrame::Entry</a>()
        {
            <span class="comment">// IMPORTANT:</span>
            <span class="comment">// this function gets executed in the secondary thread context!</span>

            <span class="keywordtype">int</span> offset = 0;

            <span class="comment">// here we do our long task, periodically calling TestDestroy():</span>
            <span class="keywordflow">while</span> (!<a class="code" href="classwx_thread_helper.html#ac61fe16deda566773cdc7d4d38709370" title="This is a public function that returns the wxThread object associated with the thread.">GetThread</a>()-&gt;TestDestroy())
            {
                <span class="comment">// since this Entry() is implemented in MyFrame context we don't</span>
                <span class="comment">// need any pointer to access the m_data, m_processedData, m_dataCS</span>
                <span class="comment">// variables... very nice!</span>

                <span class="comment">// this is an example of the generic structure of a download thread:</span>
                <span class="keywordtype">char</span> buffer[1024];
                download_chunk(buffer, 1024);     <span class="comment">// this takes time...</span>

                {
                    <span class="comment">// ensure no one reads m_data while we write it</span>
                    <a class="code" href="classwx_critical_section_locker.html" title="This is a small helper class to be used with wxCriticalSection objects.">wxCriticalSectionLocker</a> lock(m_dataCS);
                    memcpy(m_data+offset, buffer, 1024);
                    offset += 1024;
                }


                <span class="comment">// VERY IMPORTANT: do not call any GUI function inside this</span>
                <span class="comment">//                 function; rather use wxQueueEvent():</span>
                <a class="code" href="group__group__funcmacro__events.html#gae921d7bd0e52fedbf3f253d2c408bce1" title="特定のオブジェクトで処理するためにイベントをキューへ追加します。">wxQueueEvent</a>(<span class="keyword">this</span>, <span class="keyword">new</span> <a class="code" href="classwx_thread_event.html" title="This class adds some simple functionality to wxEvent to facilitate inter-thread communication.">wxThreadEvent</a>(wxEVT_COMMAND_MYTHREAD_UPDATE));
                    <span class="comment">// we used pointer 'this' assuming it's safe; see OnClose()</span>
            }

            <span class="comment">// TestDestroy() returned true (which means the main thread asked us</span>
            <span class="comment">// to terminate as soon as possible) or we ended the long task...</span>
            <span class="keywordflow">return</span> (<a class="code" href="classwx_thread.html#ade9497fa072fe19481086e6486dcc028" title="The return type for the thread functions.">wxThread::ExitCode</a>)0;
        }

        <span class="keywordtype">void</span> MyFrame::OnClose(<a class="code" href="classwx_close_event.html" title="このイベントクラスはウィンドウとセッションの終了イベントに関する情報を含んでいます。">wxCloseEvent</a>&amp;)
        {
            <span class="comment">// important: before terminating, we _must_ wait for our joinable</span>
            <span class="comment">// thread to end, if it's running; in fact it uses variables of this</span>
            <span class="comment">// instance and posts events to *this event handler</span>

            <span class="keywordflow">if</span> (<a class="code" href="classwx_thread_helper.html#ac61fe16deda566773cdc7d4d38709370" title="This is a public function that returns the wxThread object associated with the thread.">GetThread</a>() &amp;&amp;      <span class="comment">// DoStartALongTask() may have not been called</span>
                <a class="code" href="classwx_thread_helper.html#ac61fe16deda566773cdc7d4d38709370" title="This is a public function that returns the wxThread object associated with the thread.">GetThread</a>()-&gt;IsRunning())
                <a class="code" href="classwx_thread_helper.html#ac61fe16deda566773cdc7d4d38709370" title="This is a public function that returns the wxThread object associated with the thread.">GetThread</a>()-&gt;<a class="code" href="classwx_thread.html#a62ee778033013d3a4754b71b8cf2902e" title='Waits for a joinable thread to terminate and returns the value the thread returned from Entry() or "(...'>Wait</a>();

            Destroy();
        }

        <span class="keywordtype">void</span> MyFrame::OnThreadUpdate(<a class="code" href="classwx_thread_event.html" title="This class adds some simple functionality to wxEvent to facilitate inter-thread communication.">wxThreadEvent</a>&amp; evt)
        {
            <span class="comment">// ...do something... e.g. m_pGauge-&gt;Pulse();</span>

            <span class="comment">// read some parts of m_data just for fun:</span>
            <a class="code" href="classwx_critical_section_locker.html" title="This is a small helper class to be used with wxCriticalSection objects.">wxCriticalSectionLocker</a> lock(m_dataCS);
            wxPrintf(<span class="stringliteral">"%c"</span>, m_data[100]);
        }
</pre></div><h2></h2>
<div><span class="lib">Library:</span>&nbsp;&nbsp;<span class="lib_text"><a class="el" href="page_libs.html#page_libs_wxbase">wxBase</a></span></div><div><span class="category">Category:</span>&nbsp;&nbsp;<span class="category_text"><a class="el" href="group__group__class__threading.html">Threading</a></span></div><dl class="see"><dt><b>参照:</b></dt><dd><a class="el" href="classwx_thread.html" title="A thread is basically a path of execution through a program.">wxThread</a>, <a class="el" href="classwx_thread_event.html" title="This class adds some simple functionality to wxEvent to facilitate inter-thread communication.">wxThreadEvent</a> </dd></dl>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>

Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#ace38e9960ed62f8cafdfc8f7008815ae">wxThreadHelper</a> (<a class="el" href="interface_2wx_2thread_8h.html#a0dc9a167e8d084946512da99b37b5fd0">wxThreadKind</a> kind=wxTHREAD_JOINABLE)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This constructor simply initializes internal member variables and tells <a class="el" href="classwx_thread_helper.html" title="The wxThreadHelper class is a mix-in class that manages a single background thread, either detached or joinable (see wxThread for the differences).">wxThreadHelper</a> which type the thread internally managed should be.    <a href="#ace38e9960ed62f8cafdfc8f7008815ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#affe96946d9bceaba028209f4fd90ddf8">~wxThreadHelper</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The destructor frees the resources associated with the thread, forcing it to terminate (it uses <a class="el" href="classwx_thread.html#a2cbff8b3b0a93ab82f212c02f38a1ef4" title="Immediately terminates the target thread.">wxThread::Kill</a> function).    <a href="#affe96946d9bceaba028209f4fd90ddf8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual ExitCode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#a7f3e0f028fb1b295bc61064ad4d4bc1b">Entry</a> ()=0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the entry point of the thread.    <a href="#a7f3e0f028fb1b295bc61064ad4d4bc1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#ad6275bdfa1590d13f4890a433ee3e1c2">OnDelete</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback called by Delete() before actually deleting the thread.    <a href="#ad6275bdfa1590d13f4890a433ee3e1c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#aafc07894e382cbd964c3e9900b2b780b">OnKill</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback called by Kill() before actually killing the thread.    <a href="#aafc07894e382cbd964c3e9900b2b780b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_2wx_2thread_8h.html#a9e4ba0577f752fee0ba2133035f75ac2">wxThreadError</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#ae9f65014cb9c8ef1d27f22d6259c0fc2">Create</a> (unsigned int stackSize=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_2wx_2thread_8h.html#a9e4ba0577f752fee0ba2133035f75ac2">wxThreadError</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#a3682b1b5a08741335aa8acc7feb0ece5">CreateThread</a> (<a class="el" href="interface_2wx_2thread_8h.html#a0dc9a167e8d084946512da99b37b5fd0">wxThreadKind</a> kind=wxTHREAD_JOINABLE, unsigned int stackSize=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new thread of the given <em>kind</em>.    <a href="#a3682b1b5a08741335aa8acc7feb0ece5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwx_thread.html">wxThread</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#ac61fe16deda566773cdc7d4d38709370">GetThread</a> () const  </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is a public function that returns the <a class="el" href="classwx_thread.html" title="A thread is basically a path of execution through a program.">wxThread</a> object associated with the thread.    <a href="#ac61fe16deda566773cdc7d4d38709370"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_2wx_2thread_8h.html#a0dc9a167e8d084946512da99b37b5fd0">wxThreadKind</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwx_thread_helper.html#ae84f7a6b2bfc7e890d0dfd296cbc43cd">GetThreadKind</a> () const  </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the last type of thread given to the <a class="el" href="classwx_thread_helper.html#a3682b1b5a08741335aa8acc7feb0ece5" title="Creates a new thread of the given kind.">CreateThread()</a> function or to the constructor.    <a href="#ae84f7a6b2bfc7e890d0dfd296cbc43cd"></a><br/></td></tr>
</table>

<p><a href="classwx_thread_helper-members.html">List of all members.</a></p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2><!-- doxytag: member="wxThreadHelper::wxThreadHelper" ref="ace38e9960ed62f8cafdfc8f7008815ae" args="(wxThreadKind kind=wxTHREAD_JOINABLE)" -->
<a class="anchor" id="ace38e9960ed62f8cafdfc8f7008815ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxThreadHelper::wxThreadHelper  </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_2wx_2thread_8h.html#a0dc9a167e8d084946512da99b37b5fd0">wxThreadKind</a>&nbsp;</td>
          <td class="paramname"><em>kind</em> = <code>wxTHREAD_JOINABLE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This constructor simply initializes internal member variables and tells <a class="el" href="classwx_thread_helper.html" title="The wxThreadHelper class is a mix-in class that manages a single background thread, either detached or joinable (see wxThread for the differences).">wxThreadHelper</a> which type the thread internally managed should be.  </p>

</div>
</div><!-- doxytag: member="wxThreadHelper::~wxThreadHelper" ref="affe96946d9bceaba028209f4fd90ddf8" args="()" -->
<a class="anchor" id="affe96946d9bceaba028209f4fd90ddf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual wxThreadHelper::~wxThreadHelper  </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code>  [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The destructor frees the resources associated with the thread, forcing it to terminate (it uses <a class="el" href="classwx_thread.html#a2cbff8b3b0a93ab82f212c02f38a1ef4" title="Immediately terminates the target thread.">wxThread::Kill</a> function).  </p>
<p>Because of the <a class="el" href="classwx_thread.html#a2cbff8b3b0a93ab82f212c02f38a1ef4" title="Immediately terminates the target thread.">wxThread::Kill</a> unsafety, you should always wait (with <a class="el" href="classwx_thread.html#a62ee778033013d3a4754b71b8cf2902e" title='Waits for a joinable thread to terminate and returns the value the thread returned from Entry() or "(...'>wxThread::Wait</a>) for joinable threads to end or call <a class="el" href="classwx_thread.html#a66796042bf5f3eb33a0ad3db85f686d4" title="Calling Delete() gracefully terminates a detached thread, either when the thread calls TestDestroy() ...">wxThread::Delete</a> on detached threads, instead of relying on this destructor for stopping the thread.  </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2><!-- doxytag: member="wxThreadHelper::Create" ref="ae9f65014cb9c8ef1d27f22d6259c0fc2" args="(unsigned int stackSize=0)" -->
<a class="anchor" id="ae9f65014cb9c8ef1d27f22d6259c0fc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_2wx_2thread_8h.html#a9e4ba0577f752fee0ba2133035f75ac2">wxThreadError</a> wxThreadHelper::Create  </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"><em>stackSize</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000055">Deprecated:</a></b></dt><dd>Use <a class="el" href="classwx_thread_helper.html#a3682b1b5a08741335aa8acc7feb0ece5" title="Creates a new thread of the given kind.">CreateThread()</a> instead.</dd></dl>

</div>
</div><!-- doxytag: member="wxThreadHelper::CreateThread" ref="a3682b1b5a08741335aa8acc7feb0ece5" args="(wxThreadKind kind=wxTHREAD_JOINABLE, unsigned int stackSize=0)" -->
<a class="anchor" id="a3682b1b5a08741335aa8acc7feb0ece5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_2wx_2thread_8h.html#a9e4ba0577f752fee0ba2133035f75ac2">wxThreadError</a> wxThreadHelper::CreateThread  </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_2wx_2thread_8h.html#a0dc9a167e8d084946512da99b37b5fd0">wxThreadKind</a>&nbsp;</td>
          <td class="paramname"><em>kind</em> = <code>wxTHREAD_JOINABLE</code>,  </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"><em>stackSize</em> = <code>0</code>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new thread of the given <em>kind</em>.  </p>
<p>The thread object is created in the suspended state, and you should call <a class="el" href="classwx_thread.html#a5d894750ffaac8fc42ee85aeff8bb4c0">GetThread()-&gt;Run()</a> to start running it.</p>
<p>You may optionally specify the stack size to be allocated to it (ignored on platforms that don't support setting it explicitly, e.g. Unix).</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>One of the <a class="el" href="interface_2wx_2thread_8h.html#a9e4ba0577f752fee0ba2133035f75ac2" title="The possible thread errors.">wxThreadError</a> enum values.  </dd></dl>

</div>
</div><!-- doxytag: member="wxThreadHelper::Entry" ref="a7f3e0f028fb1b295bc61064ad4d4bc1b" args="()=0" -->
<a class="anchor" id="a7f3e0f028fb1b295bc61064ad4d4bc1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ExitCode wxThreadHelper::Entry  </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code>  [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is the entry point of the thread.  </p>
<p>This function is pure virtual and must be implemented by any derived class. The thread execution will start here.</p>
<p>You'll typically want your <a class="el" href="classwx_thread_helper.html#a7f3e0f028fb1b295bc61064ad4d4bc1b" title="This is the entry point of the thread.">Entry()</a> to look like:  </p>
<div class="fragment"><pre class="fragment">            <a class="code" href="classwx_thread.html#ade9497fa072fe19481086e6486dcc028" title="The return type for the thread functions.">wxThread::ExitCode</a> <a class="code" href="classwx_thread_helper.html#a7f3e0f028fb1b295bc61064ad4d4bc1b" title="This is the entry point of the thread.">Entry</a>()
            {
                <span class="keywordflow">while</span> (!<a class="code" href="classwx_thread_helper.html#ac61fe16deda566773cdc7d4d38709370" title="This is a public function that returns the wxThread object associated with the thread.">GetThread</a>()-&gt;TestDestroy())
                {
                    <span class="comment">// ... do some work ...</span>

                    <span class="keywordflow">if</span> (IsWorkCompleted)
                        <span class="keywordflow">break</span>;

                    <span class="keywordflow">if</span> (HappenedStoppingError)
                        <span class="keywordflow">return</span> (<a class="code" href="classwx_thread.html#ade9497fa072fe19481086e6486dcc028" title="The return type for the thread functions.">wxThread::ExitCode</a>)1;   <span class="comment">// failure</span>
                }

                <span class="keywordflow">return</span> (<a class="code" href="classwx_thread.html#ade9497fa072fe19481086e6486dcc028" title="The return type for the thread functions.">wxThread::ExitCode</a>)0;           <span class="comment">// success</span>
            }
</pre></div><p>The returned value is the thread exit code which is only useful for joinable threads and is the value returned by <code>"GetThread()-&gt;Wait()"</code>.</p>
<p>This function is called by wxWidgets itself and should never be called directly.  </p>

</div>
</div><!-- doxytag: member="wxThreadHelper::GetThread" ref="ac61fe16deda566773cdc7d4d38709370" args="() const " -->
<a class="anchor" id="ac61fe16deda566773cdc7d4d38709370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwx_thread.html">wxThread</a>* wxThreadHelper::GetThread  </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This is a public function that returns the <a class="el" href="classwx_thread.html" title="A thread is basically a path of execution through a program.">wxThread</a> object associated with the thread.  </p>

</div>
</div><!-- doxytag: member="wxThreadHelper::GetThreadKind" ref="ae84f7a6b2bfc7e890d0dfd296cbc43cd" args="() const " -->
<a class="anchor" id="ae84f7a6b2bfc7e890d0dfd296cbc43cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="interface_2wx_2thread_8h.html#a0dc9a167e8d084946512da99b37b5fd0">wxThreadKind</a> wxThreadHelper::GetThreadKind  </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the last type of thread given to the <a class="el" href="classwx_thread_helper.html#a3682b1b5a08741335aa8acc7feb0ece5" title="Creates a new thread of the given kind.">CreateThread()</a> function or to the constructor.  </p>

</div>
</div><!-- doxytag: member="wxThreadHelper::OnDelete" ref="ad6275bdfa1590d13f4890a433ee3e1c2" args="()" -->
<a class="anchor" id="ad6275bdfa1590d13f4890a433ee3e1c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wxThreadHelper::OnDelete  </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code>  [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Callback called by Delete() before actually deleting the thread.  </p>
<p>This function can be overridden by the derived class to perform some specific task when the thread is gracefully destroyed. Notice that it will be executed in the context of the thread that called Delete() and <b>not</b> in this thread's context.</p>
<p>TestDestroy() will be true for the thread before <a class="el" href="classwx_thread_helper.html#ad6275bdfa1590d13f4890a433ee3e1c2" title="Callback called by Delete() before actually deleting the thread.">OnDelete()</a> gets executed.</p>
<dl class="since"><dt><b>Since:</b></dt><dd>2.9.2</dd></dl>
<dl class="see"><dt><b>参照:</b></dt><dd><a class="el" href="classwx_thread_helper.html#aafc07894e382cbd964c3e9900b2b780b" title="Callback called by Kill() before actually killing the thread.">OnKill()</a> </dd></dl>

</div>
</div><!-- doxytag: member="wxThreadHelper::OnKill" ref="aafc07894e382cbd964c3e9900b2b780b" args="()" -->
<a class="anchor" id="aafc07894e382cbd964c3e9900b2b780b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void wxThreadHelper::OnKill  </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code>  [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Callback called by Kill() before actually killing the thread.  </p>
<p>This function can be overridden by the derived class to perform some specific task when the thread is terminated. Notice that it will be executed in the context of the thread that called Kill() and <b>not</b> in this thread's context.</p>
<dl class="since"><dt><b>Since:</b></dt><dd>2.9.2</dd></dl>
<dl class="see"><dt><b>参照:</b></dt><dd><a class="el" href="classwx_thread_helper.html#ad6275bdfa1590d13f4890a433ee3e1c2" title="Callback called by Delete() before actually deleting the thread.">OnDelete()</a> </dd></dl>

</div>
</div>
</div><!-- window showing the filter options -->

<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div><!-- iframe showing the search results (closed by default) -->


<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/>
<address class="footer">
	<small>
		
		Page generated on Mon Jul 9 2012 15:04:32 by  <!--[Doxygen 1.7.6+] $generatedby -->
		<a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.7.4
	
	</small>
</address>


<script src="wxwidgets.js" type="text/javascript"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40693840-1', 'murank.github.io');
  ga('send', 'pageview');

</script>
</body>
</html>
