<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>wxWidgets: wxWidgets: Creating a custom widget</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom_stylesheet.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery-1.3.2.min.js"></script>

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0" style="width: 100%;">
 <tbody>
 <tr>
  
  <td id="projectlogo"><a href="http://www.wxwidgets.org/" target="_new"><img alt="Logo" src="logo.png"/></a></td>
  
  <td style="padding: 0.5em; text-align: right;">
   <span id="projectnumber">Version: 2.9.4</span>
  </td>
  
 </tr>
 </tbody>
</table>
</div><!-- Generated by Doxygen 1.7.4 -->


<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>メインページ</span></a></li>
      <li class="current"><a href="pages.html"><span>関連ページ</span></a></li>
      <li><a href="modules.html"><span>カテゴリ</span></a></li>
      <li><a href="annotated.html"><span>クラス</span></a></li>
      <li><a href="files.html"><span>ファイル</span></a></li>
      <li><a href="dirs.html"><span>ディレクトリ</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="検索" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">ドキュメント</a>      </li>
      <li class="navelem"><a class="el" href="page_topics.html">トピックスの概要</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Creating a custom widget  </div>  </div>
</div>
<div class="contents">
<div class="textblock"><ul>
<li><a class="el" href="overview_customwidgets.html#overview_customwidgets_whenwhy">When and why you should write your custom widget</a> </li>
<li><a class="el" href="overview_customwidgets.html#overview_customwidgets_how">How to write the custom widget</a></li>
</ul>
<hr/>
<h2><a class="anchor" id="overview_customwidgets_whenwhy"></a>

When and why you should write your custom widget</h2>
<p>Typically combining the existing <a class="el" href="group__group__class__ctrl.html">Controls</a> controls in wxDialogs and wxFrames is sufficient to fullfill any GUI design. Using the wxWidgets standard controls makes your GUI looks native on all ports and is obviously easier and faster.</p>
<p>However there are situations where you need to show some particular kind of data which is not suited to any existing control. In these cases rather than hacking an existing control for something it has not been conceived for, it's better to write a new widget.</p>
<h2><a class="anchor" id="overview_customwidgets_how"></a>

How to write the custom widget</h2>
<p>There are at least two very different ways to implement a new widget.</p>
<p>The first is to build it upon wxWidgets existing classes, thus deriving it from <a class="el" href="classwx_control.html" title='This is the base class for a control or "widget".'>wxControl</a> or <a class="el" href="classwx_window.html" title="wxWindow はすべてのウィンドウの基底クラスであり、画面上に表示されるすべての可視オブジェクトを表しています。">wxWindow</a>. In this way you'll get a <b>generic</b> widget. This method has the advantage that writing a single implementation works on all ports; the disadvantage is that it the widget will look the same on all platforms, and thus it may not integrate well with the native look and feel.</p>
<p>The second method is to build it directly upon the native toolkits of the platforms you want to support (e.g. GTK+, Carbon and GDI). In this way you'll get a <b>native</b> widget. This method in fact has the advantage of a native look and feel but requires different implementations and thus more work.</p>
<p>In both cases you'll want to better explore some hot topics like:</p>
<ul>
<li><a class="el" href="overview_windowsizing.html">ウィンドウサイズの概要</a></li>
<li><a class="el" href="overview_events.html#overview_events_custom">Custom Event Summary</a> to implement your custom widget's events. You will probably need also to gain some familiarity with the wxWidgets sources, since you'll need to interface with some undocumented wxWidgets internal mechanisms.</li>
</ul>
<h3><a class="anchor" id="overview_customwidgets_how_generic"></a>

Writing a generic widget</h3>
<p>Generic widgets are typically derived from <a class="el" href="classwx_control.html" title='This is the base class for a control or "widget".'>wxControl</a> or <a class="el" href="classwx_window.html" title="wxWindow はすべてのウィンドウの基底クラスであり、画面上に表示されるすべての可視オブジェクトを表しています。">wxWindow</a>. They are easy to write. The typical "template" is as follows:</p>
<div class="fragment"><pre class="fragment"><span class="keyword">enum</span> MySpecialWidgetStyles
{
    SWS_LOOK_CRAZY = 1,
    SWS_LOOK_SERIOUS = 2,
    SWS_SHOW_BUTTON = 4,

    SWS_DEFAULT_STYLE = (SWS_SHOW_BUTTON|SWS_LOOK_SERIOUS)
};

<span class="keyword">class </span>MySpecialWidget : <span class="keyword">public</span> <a class="code" href="classwx_control.html" title='This is the base class for a control or "widget".'>wxControl</a>
{
<span class="keyword">public</span>:
    MySpecialWidget() { Init(); }

    MySpecialWidget(<a class="code" href="classwx_window.html" title="wxWindow はすべてのウィンドウの基底クラスであり、画面上に表示されるすべての可視オブジェクトを表しています。">wxWindow</a> *parent,
                    <a class="code" href="windowid_8h.html#ae8091432cc2cb2485d45f2302fb51133" title="wxWindow を継承したクラスで使用される一意の識別子 (ID) の型。">wxWindowID</a> winid,
                    <span class="keyword">const</span> <a class="code" href="classwx_string.html" title="wxString クラスは wxWidgets 3.0 では完全に書き直されます。そして、この変更が新しいバージョンを wxWidgets 3.0 と呼ぶ主な理由です。">wxString</a>&amp; label,
                    <span class="keyword">const</span> <a class="code" href="classwx_point.html" title="wxPoint は図形操作のための有用なデータ構造です。">wxPoint</a>&amp; pos = <a class="code" href="gdicmn_8h.html#af5a90c753eaf3d3e3e5068a19ec3c1d0" title="(-1,-1) に初期化された wxPoint のグルーバルインスタンス。">wxDefaultPosition</a>,
                    <span class="keyword">const</span> <a class="code" href="classwx_size.html" title="wxSize は図形操作のための有用なデータ構造です。">wxSize</a>&amp; size = <a class="code" href="gdicmn_8h.html#a33a012cdb075e9f78c93f63bec2dc27b" title="(-1,-1) に初期化された wxSize のグルーバルインスタンス。">wxDefaultSize</a>,
                    <span class="keywordtype">long</span> style = SWS_DEFAULT_STYLE,
                    <span class="keyword">const</span> <a class="code" href="classwx_validator.html" title="wxValidator はコントロールクラスとアプリケーションデータを仲介する、バリデータクラスファミリーの基底クラスです。">wxValidator</a>&amp; val = <a class="code" href="validate_8h.html#af1e90d8aa1824fd2ce4024ef7e40703c" title='An empty, "null" wxValidator instance.'>wxDefaultValidator</a>,
                    <span class="keyword">const</span> <a class="code" href="classwx_string.html" title="wxString クラスは wxWidgets 3.0 では完全に書き直されます。そして、この変更が新しいバージョンを wxWidgets 3.0 と呼ぶ主な理由です。">wxString</a>&amp; name = <span class="stringliteral">"MySpecialWidget"</span>)
    {
        Init();

        <a class="code" href="classwx_control.html#abe23789c94c86907463a0e8434be822a">Create</a>(parent, winid, label, pos, size, style, val, name);
    }

    <span class="keywordtype">bool</span> <a class="code" href="classwx_control.html#abe23789c94c86907463a0e8434be822a">Create</a>(<a class="code" href="classwx_window.html" title="wxWindow はすべてのウィンドウの基底クラスであり、画面上に表示されるすべての可視オブジェクトを表しています。">wxWindow</a> *parent,
                <a class="code" href="windowid_8h.html#ae8091432cc2cb2485d45f2302fb51133" title="wxWindow を継承したクラスで使用される一意の識別子 (ID) の型。">wxWindowID</a> winid,
                <span class="keyword">const</span> <a class="code" href="classwx_string.html" title="wxString クラスは wxWidgets 3.0 では完全に書き直されます。そして、この変更が新しいバージョンを wxWidgets 3.0 と呼ぶ主な理由です。">wxString</a>&amp; label,
                <span class="keyword">const</span> <a class="code" href="classwx_point.html" title="wxPoint は図形操作のための有用なデータ構造です。">wxPoint</a>&amp; pos = <a class="code" href="gdicmn_8h.html#af5a90c753eaf3d3e3e5068a19ec3c1d0" title="(-1,-1) に初期化された wxPoint のグルーバルインスタンス。">wxDefaultPosition</a>,
                <span class="keyword">const</span> <a class="code" href="classwx_size.html" title="wxSize は図形操作のための有用なデータ構造です。">wxSize</a>&amp; size = <a class="code" href="gdicmn_8h.html#a33a012cdb075e9f78c93f63bec2dc27b" title="(-1,-1) に初期化された wxSize のグルーバルインスタンス。">wxDefaultSize</a>,
                <span class="keywordtype">long</span> style = SWS_DEFAULT_STYLE,
                <span class="keyword">const</span> <a class="code" href="classwx_validator.html" title="wxValidator はコントロールクラスとアプリケーションデータを仲介する、バリデータクラスファミリーの基底クラスです。">wxValidator</a>&amp; val = <a class="code" href="validate_8h.html#af1e90d8aa1824fd2ce4024ef7e40703c" title='An empty, "null" wxValidator instance.'>wxDefaultValidator</a>,
                <span class="keyword">const</span> <a class="code" href="classwx_string.html" title="wxString クラスは wxWidgets 3.0 では完全に書き直されます。そして、この変更が新しいバージョンを wxWidgets 3.0 と呼ぶ主な理由です。">wxString</a>&amp; name = wxCollapsiblePaneNameStr);

    <span class="comment">// accessors...</span>

<span class="keyword">protected</span>:

    <span class="keywordtype">void</span> Init() {
        <span class="comment">// init widget's internals...</span>
    }

    <span class="keyword">virtual</span> <a class="code" href="classwx_size.html" title="wxSize は図形操作のための有用なデータ構造です。">wxSize</a> <a class="code" href="classwx_window.html#a01e7604ab0f0b2b1a8e322a630a4669e" title="オーバーライド可能な GetBestSize() の実装。">DoGetBestSize</a>()<span class="keyword"> const </span>{
        <span class="comment">// we need to calculate and return the best size of the widget...</span>
    }

    <span class="keywordtype">void</span> OnPaint(<a class="code" href="classwx_paint_event.html" title="ペイントイベントはウィンドウのコンテンツを再描画する必要があるときに送信されます。">wxPaintEvent</a>&amp;) {
        <span class="comment">// draw the widget on a wxDC...</span>
    }

<span class="keyword">private</span>:
    DECLARE_DYNAMIC_CLASS(MySpecialWidget)
    DECLARE_EVENT_TABLE()
};
</pre></div><h3><a class="anchor" id="overview_customwidgets_how_native"></a>

Writing a native widget</h3>
<p>Writing a native widget is typically more difficult as it requires you to know the APIs of the platforms you want to support. See <a class="el" href="page_port.html#page_port_nativedocs">Documentation for the native toolkits</a> for links to the documentation manuals of the various toolkits.</p>
<p>The organization used by wxWidgets consists in:</p>
<ul>
<li>declaring the common interface of the control in a generic header, using the 'Base' postfix; e.g. MySpecialWidgetBase. See for example the wxWidgets' <code>"wx/button.h"</code> file.</li>
</ul>
<ul>
<li>declaring the real widget class inheriting from the Base version in platform-specific headers; see for example the wxWidgets' <code>"wx/gtk/button.h"</code> file.</li>
</ul>
<ul>
<li>separating the different implementations in different source files, putting all common stuff in a separate source. See for example the wxWidgets' <code>"src/common/btncmn.cpp"</code>, <code>"src/gtk/button.cpp"</code> and <code>"src/msw/button.cpp"</code> files.  </li>
</ul>
</div></div><!-- window showing the filter options -->

<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div><!-- iframe showing the search results (closed by default) -->


<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/>
<address class="footer">
	<small>
		
		Page generated on Mon Jul 9 2012 15:04:15 by  <!--[Doxygen 1.7.6+] $generatedby -->
		<a href="http://www.doxygen.org/index.html" target="_new">Doxygen</a> 1.7.4
	
	</small>
</address>


<script src="wxwidgets.js" type="text/javascript"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40693840-1', 'murank.github.io');
  ga('send', 'pageview');

</script>
</body>
</html>
