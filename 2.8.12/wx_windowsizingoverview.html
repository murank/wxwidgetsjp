<HTML>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"><link rel=stylesheet type="text/css" href="wx.css"><title>ウィンドウサイズの概要</title></head>

<BODY BGCOLOR=#FFFFFF>
<A NAME="windowsizingoverview"></A><CENTER>
<A HREF="wx_contents.html"><img align=center src="contents.gif" BORDER=0 ALT="Contents"></A> <A HREF="wx_overviews.html#overviews"><img align=center src="up.gif" BORDER=0 ALT="Up"></A> <A HREF="wx_wxappoverview.html#wxappoverview"><img align=center src="back.gif" BORDER=0 ALT="Previous"></A> <A HREF="wx_runtimeclassoverview.html#runtimeclassoverview"><img align=center src="forward.gif" BORDER=0 ALT="Next"></A> </CENTER><HR>

<H2>ウィンドウサイズの概要</H2>
<P>
<P>

<A HREF="wx_wxwindow.html#wxwindow">wxWindow</A> のサイズに関連する属性について、お互いの関係やサイザーとの関わりについて時どき混乱することがあるかと思います。このドキュメントはそれらをほんの少しでも明確にするためのものであり、それらの関係性について簡単な説明を行います。<P>
<B>最適サイズ</B>: ウィジェットの最適サイズはウィジェットの種類と、通常はウィジェットの内容物に依存します。例えば <A HREF="wx_wxlistbox.html#wxlistbox">wxListBox</A> の最適サイズは特定の上限までの間でアイテム数に応じて計算されます。また、<A HREF="wx_wxbutton.html#wxbutton">wxButton</A> の最適サイズはラベルのサイズに応じて計算されますが、(スタイルフラグで上書きしない限り) 通常はプラットフォームのデフォルトのボタンサイズより小さくなることはありません。分かりますか? C++ のウィンドウクラスには <TT>DoGetBestSize()</TT> と呼ばれる特別な仮想関数があり、内容物に基づいて独自の最適サイズを計算したい場合にはこの関数をオーバーライドする必要があります。デフォルトの <TT>DoGetBestSize()</TT> は <A HREF="wx_wxpanel.html#wxpanel">wxPanel</A> といったコンテナウィンドウに使用するために設計されており、それはこのように動作します:<P>
<OL>

  <LI>ウィンドウでサイザーが使用されていれば、それが最適サイズの計算に使用されます。
  </LI><LI>そうでない場合、ウィンドウでレイアウト制約が使用されていれば、それが最適サイズの計算に使用されます。
  </LI><LI>そうでない場合、ウィンドウが子コントロールを持っていれば、すべての子コントロールを表示するのに充分な最適サイズが設定されます。
  </LI><LI>そうでない場合、子コントロールが存在しないのであれば、ウィンドウの最小サイズが最適サイズに使用されます。
  </LI><LI>そうでない場合、最小サイズが設定されていないのであれば、現在のサイズが最適サイズに使用されます。
</LI></OL>
<P>
<B>最小サイズ</B>: ウィジェットの最小サイズは通常、プログラマが <TT>SetMinSize()</TT> 関数か <TT>SetSizeHints()</TT> 関数のどちらかを使用して明示的に設定するサイズです。また、大半のコントロールはコンストラクタにデフォルト値以外の値が指定された場合にそれを最小サイズとして設定します。<A HREF="wx_wxframe.html#wxframe">wxFrame</A> といったトップレベルウィンドウはユーザが最小サイズ以下にリサイズすることはできません。<P>
<B>サイズ</B>: ウィジェットのサイズは <TT>SetSize()</TT> 関数や <TT>GetSize()</TT> 関数で明示的に設定・取得することができます。このサイズの値は画面内でウィジェットが使用しているサイズであり、サイザーで管理されていないウィジェットのサイズを変更する方法でもあります。<P>
<B>クライアントサイズ</B>: クライアントサイズはボーダーの内側の領域を表しており、この領域は <TT>EVT_PAINT</TT> イベントで描画できます。ウィジェットがボーダーを持たない場合、クライアントサイズはウィジェットのサイズと同じ大きさになります。<P>
<B>初期サイズ</B>: ウィジェットの初期サイズはウィジェットのコンストラクタで指定されたサイズのことです。上で述べたように、ほとんどのコントロールではこのサイズがコントロールの最小サイズとしても使用されます。コンストラクタで指定された値がデフォルトの <TT>wxDefaultSize</TT> の場合、もしくは (<TT>wxSize(150,-1)</TT> といったように) 完全に指定されていない場合、ほとんどのコントロールでは足りない部分を最適サイズを使用して補完し、その結果を初期サイズとして設定します。<P>
<B>GetEffectiveMinSize()</B>: (以前は <TT>GetBestFittingSize</TT> でした) ウィジェットの最小サイズと最適サイズを混ぜあわせたもので、最小サイズよりも優先されます。例えば、ウィジェットの最小サイズが (150, -1)、最適サイズが (80, 22) の場合、最適フィットサイズは (150, 22) になります。最小サイズが (50, 20) の場合は (50, 20) が最適フィットサイズになります。この関数はサイザー内の各要素の要求サイズを決定するときにサイザーから呼ばれ、サイザーの必要とする最小サイズを計算するために使用されます。<P>
<B>SetInitialSize(size)</B>: (以前は <TT>SetBestFittingSize</TT> でした) これは通常のサイズ設定関数とは少しだけ異なります。単に "初期サイズ" を設定するのではなく、引き渡された値を最小サイズに設定し、その値を最適サイズと混ぜあわせた上で、その結果をウィジェットのサイズとして設定します。そのため、この関数を "賢い SetSize" と考えることができます。この関数はコントロールの最小サイズと初期サイズを設定するためにほとんどのコントロールのコンストラクタで呼ばれます。<P>
<B>window.Fit()</B>: <TT>Fit()</TT> 関数は子コントロールにフィットするようにウィンドウのサイズを設定します。子コントロールを持たない場合は何も行いませんが、子コントロールを持つ場合はそのウィンドウの最適サイズにあわせてウィンドウサイズを設定します。<P>
<B>sizer.Fit(window)</B>: これは (他のいくつかの制約とあわせて) サイザーの要求する最小サイズを充分満たすようにウィンドウサイズを設定します。ウィンドウに割り当てられているサイザーがひとつだけの場合は <TT>window.Fit()</TT> と等価になります。<P>
<B>sizer.Layout()</B>: サイザー内の各要素が必要とする最小サイズを再計算し、現在サイザーに割り当てられているスペース内に各要素を配置します。<P>
<B>window.Layout()</B>: ウィンドウがサイザーを持つ場合に、現在のウィンドウサイズにあわせてサイザーが利用可能なスペースを設定します。これにより <TT>sizer.Layout()</TT> が呼び出されます。ウィンドウがサイザーの代わりにレイアウト制約を使用している場合は制約アルゴリズムが実行されます。<TT>Layout()</TT> 関数はコンテナウィンドウのデフォルトの <TT>EVT_SIZE</TT> ハンドラから呼ばれます。<P>
<P>


</FONT><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40693840-1', 'murank.github.io');
  ga('send', 'pageview');

</script>
</body></HTML>
